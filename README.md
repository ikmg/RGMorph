# RGMorph (изменение склонений)

Объединяет работу двух библиотек: 
- [pymorphy2](https://pymorphy2.readthedocs.io/en/stable/index.html)
- [petrovich](https://pypi.org/project/Petrovich/)

### Важно!

1. Не является универсальным средством. 
2. В качестве входных значений предполагается наличие слов в начальной форме (именительный падеж, единственное число). 
3. Работа настроена для использования при изменении склонений:
- _воинских (специальных) званий (классных чинов, дипломатических рангов);_ 
- _фамилии, имени, отчества;_
- _наименования должности, подразделения и(или) субъекта._

**Примечание:** _используется морфологический разбор слов основанный на тегах **[OpenCorpora](http://opencorpora.org/dict.php?act=gram)** и выбор подходящего варианта для изменения склонения._

### Особенности

При выявлении особых случаев, когда фамилия, имя или отчество склоняются неправильно, либо вообще не склоняются, они могут быть добавлены в набор правил (файл **rules.json**) в качестве исключений с явным указанием окончаний для каждого падежа. 

## Падежи
В методах классов используется аргумент **case**, для которого падежи указываются в привычной форме: 
- **именительный** - есть (кто/что), 
- **родительный** - нет (кого/чего), 
- **дательный** - рад (кому/чему), 
- **винительный** - вижу (кого/что), 
- **творительный** - горжусь (кем/чем), 
- **предложный** - мечтаю (о ком/о чем).

## Класс Morph

В общем случае изменение склонения производится объектом класса **Morph**
```
from rg_morph import Morph

morph = Morph()
```

### Изменение склонения ФИО
```
morph.fio('родительный', lastname='Фамилия', firstname='Имя', middlename='Отчетсво', gender='female', to_string=True)
```
Синтаксис: 

`morph.fio(case: str, **keywords)`
- _param: **case**: str - наименование падежа из словаря cases_
- _**keywords: все необязательные, но все не могут быть пустыми_
  - _param: **lastname**: str - фамилия_
  - _param: **firstname**: str - имя_
  - _param: **middlename**: str - отчество_
  - _param: **gender**: str (male/female) - пол_
  - _param: **to_string**: bool - результат склонения конкатенирует в строку_

### Изменение склонения слов в тексте
```
morph.phrase('родительный', 'Наименование организации, подразделения или должности', True)
```
Синтаксис: 

`morph.phrase(case: str, text: str, ignore_text_in_quotes: bool = False)`
- _param: **case**: str - наименование падежа для склонения;_
- _param: **text**: str - текст для изменения склонения._
- _param: **ignore_text_in_quotes**: bool - игнорировать (не склонять) текст в кавычках_

## Класс FIO
Используется отдельно для изменения склонений фамилии, имени и(или) отчества
```
from rg_morph import FIO


words = {
    'lastname': 'Фамилия',
    'firstname': 'Имя',
    'middlename': 'Отчество',
    'gender': 'male'
}

fio = FIO(**words)

fio.morph('родительный', True)
```

## Класс Text

Используется отдельно для изменения склонения слов в тексте

```
from rg_morph import Text

text = Text('это текст для "изменения" склонения')
text.morph('винительный', True)
```
