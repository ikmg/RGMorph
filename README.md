# Изменение склонений

Объединяет работу двух библиотек: 
- [pymorphy2](https://pymorphy2.readthedocs.io/en/stable/index.html)
- [petrovich](https://pypi.org/project/Petrovich/)

### Важно

Не является универсальным средством для использования во всех возможных ситуациях.

Работа класса предполагает наличие в качестве входных значений слов в начальной форме (именительный падеж, единственное число) и настроена для использования при склонении воинских (специальных) званий, фамилии, имени, отчества, наименования должности или субъекта войск.

В работе используется морфологический разбор слов и выбор подходящего варианта морфологического разбора, основанный на тегах **[OpenCorpora](http://opencorpora.org/dict.php?act=gram)**.

### Особенности

При выявлении особых случаев, когда фамилия, имя или отчество склоняются неправильно, либо вообще не склоняются, они могут быть добавлены в набор правил (файл **rules.json**) в качестве исключений с явным указанием окончаний для каждого падежа. 

## Начало работы

Изменение склонения производится объектом класса **Morph**
```
from kmorph import Morph

morph = Morph()
```


## Падежи
В методах класса используется аргумент **case**, для которого падежи указываются в привычной форме: 
- **именительный** - есть (кто/что), 
- **родительный** - нет (кого/чего), 
- **дательный** - рад (кому/чему), 
- **винительный** - вижу (кого/что), 
- **творительный** - горжусь (кем/чем), 
- **предложный** - мечтаю (о ком/о чем).


## Методы класса


### Метод phrase()
Используется для склонения воинских (специальных) званий, наименования должности или субъекта войск. Возвращает строку в необходимом склонении.

Синтаксис метода:
```
morph.phrase(case: str, text: str)
```

- аргумент **case** - необходимый падеж для склонения;
- аргумент **text** - входящая строка.

Пример использования метода:
```
res = morph.phrase('родительный', '30 отдельный отряд специального назначения РЭР')
print(res)

30 отдельного отряда специального назначения РЭР
```


### Метод fio()
Используется для склонения фамилии, имени, отчества. Возвращает словарь слов в необходимом склонении.

Синтаксис метода:
```
morph.fio(case: str, **kwargs)
```

- аргумент **case** - необходимый падеж для склонения
- ****kwargs** - именованные аргументы: 
  - **gender** - пол, может быть 'male' или 'female',
  - **lastname** - фамилия,
  - **firstname** - имя,
  - **middlename** - отчество,
  - **to_string** - конкатенация результата в строку ФИО, тип **bool**,
  - **upper** - переводит фамилию в верхний регистр, тип **bool**.

Каждый из аргументов ****kwargs** является необязательным.

Пример использования метода:
```
# все аргументы
res = morph.fio('родительный', lastname='Казанцев', firstname='Георгий', middlename='Валентинович', gender='male')
print(res)

{'lastname': 'Казанцева', 'firstname': 'Георгия', 'middlename': 'Валентиновича'}


# не все аргументы
res = morph.fio('родительный', lastname='Казанцев', firstname='Георгий')
print(res)

{'lastname': 'Казанцева', 'firstname': 'Георгия', 'middlename': None}
```


### Встроенный метод __str__()
Возвращает удобочитаемое строковое представление объекта класса.

Пример использования метода:
```
morph.fio('родительный', lastname='Казанцев', firstname='Георгий', middlename='Валентинович', gender='male')
print(morph)

Падеж: <родительный>, входящая строка: <Казанцев Георгий Валентинович>, родительный падеж (кого/чего): <нет Казанцева Георгия Валентиновича>
```


## Свойства класса


### Свойство info
Возвращает информационную строку, в которой указаны все варианты склонения в контексте последней операции.

Пример использования свойства:
```
morph.fio('родительный', lastname='Казанцев', firstname='Георгий', middlename='Валентинович', gender='male')
print(morph.info)

Входящая строка: Казанцев Георгий Валентинович
Именительный падеж (кто/что): есть Казанцев Георгий Валентинович
Родительный падеж (кого/чего): нет Казанцева Георгия Валентиновича
Дательный падеж (кому/чему): рад Казанцеву Георгию Валентиновичу
Винительный падеж (кого/что): вижу Казанцева Георгия Валентиновича
Творительный падеж (кем/чем): горжусь Казанцевым Георгием Валентиновичем
Предложный падеж (о ком/о чем): мечтаю о/об Казанцеве Георгие Валентиновиче
```
